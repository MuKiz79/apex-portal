<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APEX Executive | Karriere-Architektur & CV-Manufaktur</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#0B1120', 
                            gold: '#C6A87C', 
                            light: '#F3F4F6', 
                            accent: '#1E293B' 
                        }
                    },
                    fontFamily: {
                        serif: ['"Cinzel"', 'serif'],
                        sans: ['"Lato"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        .gold-gradient { background: linear-gradient(135deg, #C6A87C 0%, #E2D1B3 50%, #C6A87C 100%); }
        .text-gold-gradient { background: linear-gradient(135deg, #C6A87C 0%, #E2D1B3 50%, #C6A87C 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-pattern { background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .faq-content { transition: max-height 0.4s ease-out; max-height: 0; overflow: hidden; }
        .faq-open .faq-content { max-height: 500px; }
        .faq-open i { transform: rotate(180deg); }
    </style>
</head>
<body class="bg-brand-light text-brand-dark font-sans antialiased relative flex flex-col min-h-screen">

    <!-- NAVIGATION -->
    <nav class="bg-brand-dark text-white sticky top-0 z-50 shadow-xl border-b border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24 items-center">
                <div class="flex items-center space-x-3 group cursor-pointer" onclick="app.navigateTo('home')">
                    <div class="relative w-10 h-10 flex items-center justify-center border border-brand-gold rounded-sm transform group-hover:rotate-45 transition duration-500">
                        <i class="fas fa-mountain text-brand-gold text-lg transform group-hover:-rotate-45 transition duration-500"></i>
                    </div>
                    <div class="flex flex-col">
                        <span class="font-serif text-2xl tracking-widest leading-none text-white">APEX</span>
                        <span class="text-[0.65rem] uppercase tracking-[0.3em] text-brand-gold">Executive</span>
                    </div>
                </div>

                <div id="nav-links" class="hidden md:flex space-x-8 text-xs uppercase tracking-widest font-bold text-gray-400">
                    <button onclick="app.navigateTo('home'); app.scrollToSection('cv-packages')" class="hover:text-brand-gold transition py-2 border-b-2 border-transparent hover:border-brand-gold">CV-Manufaktur</button>
                    <button onclick="app.navigateTo('home'); app.scrollToSection('coaches')" class="hover:text-brand-gold transition py-2 border-b-2 border-transparent hover:border-brand-gold">Mentoren</button>
                    <button onclick="app.navigateTo('journal')" class="text-white hover:text-brand-gold transition py-2 border-b-2 border-transparent hover:border-brand-gold">Insights</button>
                    <button onclick="app.navigateTo('about')" class="text-white hover:text-brand-gold transition py-2 border-b-2 border-transparent hover:border-brand-gold">Über uns</button>
                </div>
                
                <div class="flex items-center space-x-6">
                    <button onclick="app.toggleCart()" class="relative text-white hover:text-brand-gold transition group flex items-center gap-2">
                        <i class="fas fa-briefcase text-lg group-hover:scale-110 transition-transform"></i>
                        <span class="hidden md:inline text-[10px] uppercase tracking-widest font-bold">Portfolio</span>
                        <span id="cart-count" class="absolute -top-2 -right-2 bg-brand-gold text-brand-dark text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center hidden shadow-md">0</span>
                    </button>
                    
                    <div class="hidden md:block">
                        <button id="nav-login-btn" onclick="app.navigateTo('login')" class="border border-brand-gold/30 text-brand-gold px-6 py-2 rounded-sm font-bold text-xs uppercase hover:bg-brand-gold hover:text-brand-dark transition duration-300">
                            Login
                        </button>
                        <div id="nav-user-profile" class="hidden flex items-center gap-3 cursor-pointer" onclick="app.navigateTo('dashboard')">
                            <div class="text-right hidden lg:block">
                                <span class="block text-xs text-white font-bold" id="user-name-display">User</span>
                                <span class="block text-[10px] text-brand-gold uppercase tracking-wider">Dashboard</span>
                            </div>
                            <img src="https://randomuser.me/api/portraits/men/46.jpg" class="w-10 h-10 rounded-full border-2 border-brand-gold">
                        </div>
                    </div>

                    <button onclick="app.toggleMobileMenu()" class="md:hidden text-white text-2xl focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden absolute top-24 left-0 w-full bg-brand-dark border-b border-white/10 shadow-xl py-6 px-4 flex-col space-y-4 z-40">
            <button onclick="app.navigateTo('home'); app.toggleMobileMenu()" class="text-left text-white font-serif text-lg border-b border-white/5 pb-2">Home</button>
            <button onclick="app.navigateTo('journal'); app.toggleMobileMenu()" class="text-left text-white font-serif text-lg border-b border-white/5 pb-2">Insights</button>
            <button onclick="app.navigateTo('about'); app.toggleMobileMenu()" class="text-left text-white font-serif text-lg border-b border-white/5 pb-2">Über uns</button>
            <button onclick="app.navigateTo('login'); app.toggleMobileMenu()" class="text-left text-brand-gold font-bold uppercase tracking-widest text-xs pt-2">Mitglieder Login</button>
        </div>
    </nav>

    <!-- === VIEW 1: LANDING PAGE === -->
    <div id="view-home" class="fade-in">
        <header class="bg-brand-dark text-white relative overflow-hidden hero-pattern">
            <div class="absolute inset-0 bg-gradient-to-br from-brand-dark via-brand-dark/95 to-brand-accent/90 z-10"></div>
            <div class="relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-32 grid md:grid-cols-12 gap-12 items-center">
                <div class="md:col-span-7">
                    <div class="inline-block border-l-2 border-brand-gold pl-4 mb-6">
                        <span class="text-gray-400 uppercase tracking-widest text-xs font-bold block">Für Führungskräfte & Aufsteiger</span>
                    </div>
                    <h1 class="font-serif text-4xl md:text-6xl leading-tight mb-6">Karriere <br> neu <span class="text-transparent bg-clip-text gold-gradient">definieren</span>.</h1>
                    <p class="text-gray-300 text-lg mb-10 font-light leading-relaxed max-w-xl">Wir demokratisieren Executive-Qualität. Egal ob Sie ins C-Level aufsteigen oder Ihre Karriere erst starten – wir erstellen Unterlagen, die Türen öffnen.</p>
                    <div class="flex flex-col sm:flex-row gap-5">
                        <button onclick="app.scrollToSection('cv-packages')" class="gold-gradient text-brand-dark font-bold py-4 px-10 rounded-sm hover:shadow-lg transition text-center uppercase tracking-wider text-sm">Zu den CV Paketen</button>
                        <button onclick="app.scrollToSection('coaches')" class="group flex items-center text-white py-4 px-8 rounded-sm hover:text-brand-gold transition text-center uppercase tracking-wider text-sm"><span>Mentoren ansehen</span><i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition"></i></button>
                    </div>
                </div>
            </div>
        </header>

        <section id="cv-packages" class="py-24 bg-white relative">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <span class="text-brand-gold uppercase tracking-widest text-xs font-bold mb-2 block">Die CV-Manufaktur</span>
                    <h2 class="font-serif text-4xl text-brand-dark mb-4">Unterlagen für jede Karrierestufe</h2>
                </div>
                <div class="grid md:grid-cols-3 gap-8 items-start">
                    <div class="group border border-gray-200 p-8 rounded-sm bg-white hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 cursor-pointer relative">
                        <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-100 text-gray-500 px-3 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full">High Potential</div>
                        <h3 class="font-serif text-xl text-brand-dark mb-2">Young Professional</h3>
                        <div class="text-3xl font-serif text-brand-dark mb-6">€249 <span class="text-sm font-sans text-gray-400 font-normal">/ Paket</span></div>
                        <ul class="space-y-4 mb-8 text-sm text-gray-600">
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> Profi-CV Erstellung</li>
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> Fokus auf Potenziale</li>
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> Anschreiben-Template</li>
                        </ul>
                        <div class="space-y-3">
                            <button onclick="app.addToCart('Young Professional CV', 249)" class="w-full border border-brand-dark text-brand-dark py-3 uppercase tracking-widest text-xs font-bold hover:bg-brand-dark hover:text-white transition">Auswählen</button>
                            <button onclick="app.navigateTo('package-details')" class="block w-full text-center text-[10px] uppercase tracking-widest text-gray-400 hover:text-brand-dark underline decoration-1 underline-offset-4">Details & Vergleich</button>
                        </div>
                    </div>
                    <div class="group border-2 border-brand-gold p-8 rounded-sm shadow-xl bg-white relative transform md:-translate-y-4 hover:shadow-2xl hover:-translate-y-6 transition-all duration-300 cursor-pointer">
                        <div class="absolute top-0 right-0 bg-brand-gold text-brand-dark text-[10px] font-bold px-3 py-1 uppercase tracking-wide">Popular</div>
                        <h3 class="font-serif text-xl text-brand-dark mb-2">Senior Professional</h3>
                        <div class="text-3xl font-serif text-brand-dark mb-6">€490 <span class="text-sm font-sans text-gray-400 font-normal">/ Paket</span></div>
                        <ul class="space-y-4 mb-8 text-sm text-gray-600">
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> Alles aus "Young Professional"</li>
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> USP Erarbeitung</li>
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> LinkedIn Update</li>
                        </ul>
                        <div class="space-y-3">
                            <button onclick="app.addToCart('Senior Professional CV', 490)" class="w-full bg-brand-gold text-brand-dark py-3 uppercase tracking-widest text-xs font-bold hover:shadow-lg transition">Auswählen</button>
                            <button onclick="app.navigateTo('package-details')" class="block w-full text-center text-[10px] uppercase tracking-widest text-gray-400 hover:text-brand-dark underline decoration-1 underline-offset-4">Details & Vergleich</button>
                        </div>
                    </div>
                    <div class="group border border-gray-200 p-8 rounded-sm bg-brand-dark text-white relative hover:shadow-2xl hover:-translate-y-2 hover:border-brand-gold transition-all duration-300 cursor-pointer">
                        <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-brand-gold text-brand-dark px-3 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full">Board Level</div>
                        <h3 class="font-serif text-xl text-white mb-2">Executive C-Suite</h3>
                        <div class="text-3xl font-serif text-white mb-6">€990 <span class="text-sm font-sans text-gray-500 font-normal">/ Paket</span></div>
                        <ul class="space-y-4 mb-8 text-sm text-gray-300">
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> Executive Rebranding</li>
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> Board-Bio & Pitch Deck</li>
                            <li class="flex items-center"><i class="fas fa-check text-brand-gold mr-3"></i> Headhunter Intro</li>
                        </ul>
                        <div class="space-y-3">
                            <button onclick="app.addToCart('Executive C-Suite CV', 990)" class="w-full border border-white text-white py-3 uppercase tracking-widest text-xs font-bold hover:bg-white hover:text-brand-dark transition">Auswählen</button>
                            <button onclick="app.navigateTo('package-details')" class="block w-full text-center text-[10px] uppercase tracking-widest text-gray-500 hover:text-white underline decoration-1 underline-offset-4">Details & Vergleich</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="coaches" class="py-24 bg-brand-light border-t border-gray-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-20 text-center">
                    <span class="text-brand-gold uppercase tracking-widest text-xs font-bold mb-2 block">Executive Sparring</span>
                    <h2 class="font-serif text-4xl text-brand-dark mb-4">Wissen statt Weisheiten</h2>
                    <p class="text-gray-500 max-w-2xl mx-auto">Peer-to-Peer Beratung durch aktive Entscheider.</p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-8 mb-16">
                    <div class="bg-white p-8 rounded-sm shadow-sm border border-gray-100 flex flex-col items-center text-center">
                        <div class="w-14 h-14 rounded-full bg-brand-light flex items-center justify-center text-brand-dark mb-4"><i class="fas fa-user-tie text-2xl"></i></div>
                        <h3 class="font-serif text-lg font-bold mb-2 text-brand-dark">Peer-to-Peer</h3>
                        <p class="text-sm text-gray-600 leading-relaxed">Sprechen Sie mit jemandem, der Ihren Job heute schon macht. Keine Theoretiker, sondern Führungskräfte mit aktueller Budgetverantwortung.</p>
                    </div>
                    <div class="bg-white p-8 rounded-sm shadow-sm border border-gray-100 flex flex-col items-center text-center">
                        <div class="w-14 h-14 rounded-full bg-brand-light flex items-center justify-center text-brand-dark mb-4"><i class="fas fa-video text-2xl"></i></div>
                        <h3 class="font-serif text-lg font-bold mb-2 text-brand-dark">Das Format</h3>
                        <p class="text-sm text-gray-600 leading-relaxed">60 Minuten Video-Session über unsere verschlüsselte Plattform. Fokus auf Ad-hoc Problemlösung oder Strategie-Validierung.</p>
                    </div>
                    <div class="bg-white p-8 rounded-sm shadow-sm border border-gray-100 flex flex-col items-center text-center">
                        <div class="w-14 h-14 rounded-full bg-brand-light flex items-center justify-center text-brand-dark mb-4"><i class="fas fa-lock text-2xl"></i></div>
                        <h3 class="font-serif text-lg font-bold mb-2 text-brand-dark">Diskretion</h3>
                        <p class="text-sm text-gray-600 leading-relaxed">Ihr Interesse bleibt geheim. Ideal, um heikle Themen (Wechselabsichten, Konflikte im Board) sicher zu besprechen.</p>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row justify-between items-end mb-10 border-b border-gray-200 pb-4">
                    <h3 class="font-serif text-2xl text-brand-dark mb-1">Verfügbare Mentoren</h3>
                    <select id="industry-filter" onchange="app.filterCoaches()" class="mt-4 md:mt-0 bg-white border border-gray-300 px-6 py-3 rounded-sm text-sm focus:border-brand-gold outline-none">
                        <option value="all">Alle Branchen</option>
                        <option value="tech">Technology & IT</option>
                        <option value="finance">Finance & Banking</option>
                        <option value="automotive">Automotive</option>
                    </select>
                </div>
                <div id="coach-grid" class="grid md:grid-cols-3 gap-8"></div>
            </div>
        </section>

        <section id="process" class="py-24 bg-brand-dark text-white relative">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="text-center mb-16">
                    <span class="text-brand-gold uppercase tracking-widest text-xs font-bold mb-2 block">Der Ablauf</span>
                    <h2 class="font-serif text-4xl mb-4">Der Weg zum Ziel</h2>
                </div>
                <div class="grid md:grid-cols-4 gap-8">
                    <div class="text-center group"><div class="w-16 h-16 rounded-full border border-brand-gold flex items-center justify-center mx-auto mb-6 group-hover:bg-brand-gold transition duration-300"><span class="text-xl font-bold text-brand-gold group-hover:text-brand-dark">1</span></div><h4 class="font-bold mb-2">Auswahl</h4><p class="text-sm text-gray-400">Wählen Sie Ihr Paket.</p></div>
                    <div class="text-center group"><div class="w-16 h-16 rounded-full border border-brand-gold flex items-center justify-center mx-auto mb-6 group-hover:bg-brand-gold transition duration-300"><span class="text-xl font-bold text-brand-gold group-hover:text-brand-dark">2</span></div><h4 class="font-bold mb-2">Briefing</h4><p class="text-sm text-gray-400">Upload & Analyse.</p></div>
                    <div class="text-center group"><div class="w-16 h-16 rounded-full border border-brand-gold flex items-center justify-center mx-auto mb-6 group-hover:bg-brand-gold transition duration-300"><span class="text-xl font-bold text-brand-gold group-hover:text-brand-dark">3</span></div><h4 class="font-bold mb-2">Umsetzung</h4><p class="text-sm text-gray-400">Arbeit der Experten.</p></div>
                    <div class="text-center group"><div class="w-16 h-16 rounded-full border border-brand-gold flex items-center justify-center mx-auto mb-6 group-hover:bg-brand-gold transition duration-300"><span class="text-xl font-bold text-brand-gold group-hover:text-brand-dark">4</span></div><h4 class="font-bold mb-2">Lieferung</h4><p class="text-sm text-gray-400">Finale Dokumente.</p></div>
                </div>
            </div>
        </section>

        <section id="faq" class="py-24 bg-gray-50 border-t border-gray-200">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <span class="text-brand-gold uppercase tracking-widest text-xs font-bold mb-2 block">Häufige Fragen</span>
                    <h2 class="font-serif text-3xl text-brand-dark">Wichtige Hinweise & Exclusions</h2>
                </div>
                <div class="space-y-4">
                    <div class="bg-white border border-gray-200 rounded-sm overflow-hidden" onclick="app.toggleFaq('faq1')"><button class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition"><span class="font-bold text-brand-dark text-sm">Garantieren Sie einen Job oder eine Beförderung?</span><i class="fas fa-chevron-down text-brand-gold transition-transform duration-300"></i></button><div id="faq1" class="faq-content bg-gray-50/50"><div class="px-6 pb-6 pt-2 text-sm text-gray-600 border-t border-gray-100 leading-relaxed">Nein. Wir garantieren die Optimierung Ihrer Unterlagen und Ihrer Strategie nach höchsten Marktstandards ("Enabling"). Die Entscheidung über eine Einstellung liegt jedoch immer beim Unternehmen. Rechtlich schulden wir eine Dienstleistung, keinen Erfolg im Sinne einer Anstellung.</div></div></div>
                    <div class="bg-white border border-gray-200 rounded-sm overflow-hidden" onclick="app.toggleFaq('faq2')"><button class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition"><span class="font-bold text-brand-dark text-sm">Sind Sie Headhunter oder Personalvermittler?</span><i class="fas fa-chevron-down text-brand-gold transition-transform duration-300"></i></button><div id="faq2" class="faq-content bg-gray-50/50"><div class="px-6 pb-6 pt-2 text-sm text-gray-600 border-t border-gray-100 leading-relaxed">Wir arbeiten ausschließlich im Auftrag des Kandidaten (Sie), nicht im Auftrag von Unternehmen. Das garantiert Ihnen 100% Loyalität und Unabhängigkeit. Im "Executive C-Suite"-Paket nutzen wir jedoch unser persönliches Netzwerk für diskrete Intros, sofern passend.</div></div></div>
                    <div class="bg-white border border-gray-200 rounded-sm overflow-hidden" onclick="app.toggleFaq('faq3')"><button class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition"><span class="font-bold text-brand-dark text-sm">Prüfen Sie Arbeitsverträge rechtlich?</span><i class="fas fa-chevron-down text-brand-gold transition-transform duration-300"></i></button><div id="faq3" class="faq-content bg-gray-50/50"><div class="px-6 pb-6 pt-2 text-sm text-gray-600 border-t border-gray-100 leading-relaxed">Nein. Unsere Beratung bezieht sich auf strategische und taktische Karriereplanung (Verhandlungstaktik, Marktwert). Wir bieten keine Rechtsberatung. Für die Prüfung von Verträgen empfehlen wir spezialisierte Fachanwälte für Arbeitsrecht.</div></div></div>
                    <div class="bg-white border border-gray-200 rounded-sm overflow-hidden" onclick="app.toggleFaq('faq-compliance')"><button class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition"><span class="font-bold text-brand-dark text-sm">Gibt es Einschränkungen bei der Mentoren-Wahl? (Compliance)</span><i class="fas fa-chevron-down text-brand-gold transition-transform duration-300"></i></button><div id="faq-compliance" class="faq-content bg-gray-50/50"><div class="px-6 pb-6 pt-2 text-sm text-gray-600 border-t border-gray-100 leading-relaxed">Ja. Da unsere Mentoren in aktiven Führungspositionen sind, gelten strikte Compliance-Regeln. Ein Mentor darf keine Personen beraten, die bei direkten Wettbewerbern tätig sind. <strong>Ebenso ist eine Beratung ausgeschlossen, wenn Sie sich aktiv beim aktuellen Arbeitgeber des Mentors bewerben</strong>, um Interessenskonflikte zu vermeiden. Dies wird im Matching-Prozess (Compliance-Check) geprüft.</div></div></div>
                    <div class="bg-white border border-gray-200 rounded-sm overflow-hidden" onclick="app.toggleFaq('faq4')"><button class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition"><span class="font-bold text-brand-dark text-sm">Sind die Kosten steuerlich absetzbar?</span><i class="fas fa-chevron-down text-brand-gold transition-transform duration-300"></i></button><div id="faq4" class="faq-content bg-gray-50/50"><div class="px-6 pb-6 pt-2 text-sm text-gray-600 border-t border-gray-100 leading-relaxed">In der Regel ja. Da es sich um berufliche Weiterbildung und Bewerbungskosten handelt, können diese meist als Werbungskosten geltend gemacht werden. Bitte konsultieren Sie hierzu Ihren Steuerberater. Sie erhalten von uns eine ordnungsgemäße Rechnung mit ausgewiesener MwSt.</div></div></div>
                    <div class="bg-white border border-gray-200 rounded-sm overflow-hidden" onclick="app.toggleFaq('faq5')"><button class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition"><span class="font-bold text-brand-dark text-sm">Wie schnell ist die Umsetzung?</span><i class="fas fa-chevron-down text-brand-gold transition-transform duration-300"></i></button><div id="faq5" class="faq-content bg-gray-50/50"><div class="px-6 pb-6 pt-2 text-sm text-gray-600 border-t border-gray-100 leading-relaxed">Mentoring-Sessions sind oft innerhalb von 48h buchbar. Für CV-Pakete benötigen wir nach vollständigem Briefing ca. 5-7 Werktage für den ersten Entwurf. Express-Service (48h) ist auf Anfrage gegen Aufpreis möglich.</div></div></div>
                </div>
            </div>
        </section>
    </div>

    <!-- === VIEW: COACH DETAIL === -->
    <div id="view-coach-detail" class="hidden fade-in min-h-screen bg-white">
        <div class="max-w-4xl mx-auto px-4 py-16">
            <button onclick="app.navigateTo('home'); app.scrollToSection('coaches')" class="mb-8 text-xs font-bold uppercase tracking-widest text-brand-gold hover:text-brand-dark transition">&larr; Zurück zu Mentoren</button>
            <div id="coach-detail-content"></div>
        </div>
    </div>

    <!-- === VIEW: JOURNAL === -->
    <div id="view-journal" class="hidden fade-in min-h-screen bg-gray-50">
        <header class="bg-brand-dark text-white py-20 relative overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 relative z-10 text-center">
                <span class="text-brand-gold uppercase tracking-[0.2em] text-xs font-bold block mb-4">APEX Journal</span>
                <h1 class="font-serif text-4xl mb-4">Executive Insights</h1>
                <p class="text-gray-400 text-sm max-w-2xl mx-auto">Marktanalysen, Strategien und Insider-Wissen für die moderne Führungskraft.</p>
            </div>
        </header>
        <section class="py-16 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="journal-grid" class="grid md:grid-cols-3 gap-8"></div>
        </section>
    </div>

    <!-- === VIEW: ARTICLE DETAIL === -->
    <div id="view-article-detail" class="hidden fade-in min-h-screen bg-white">
        <div class="max-w-3xl mx-auto px-4 py-16">
            <button onclick="app.navigateTo('journal')" class="mb-8 text-xs font-bold uppercase tracking-widest text-brand-gold hover:text-brand-dark transition">&larr; Zurück zum Journal</button>
            <div id="article-content-area"></div>
        </div>
    </div>

    <!-- === VIEW: ABOUT === -->
    <div id="view-about" class="hidden fade-in min-h-screen">
        <header class="bg-brand-dark text-white relative py-20">
            <div class="max-w-4xl mx-auto px-4 text-center">
                <span class="text-brand-gold uppercase tracking-[0.2em] text-xs font-bold block mb-4">Über APEX</span>
                <h1 class="font-serif text-4xl">Exzellenz als Haltung.</h1>
            </div>
        </header>
        <section class="py-20 bg-white">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid md:grid-cols-2 gap-12 items-center mb-24">
                    <div class="relative"><div class="absolute inset-0 bg-brand-gold/10 transform translate-x-4 translate-y-4"></div><img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?auto=format&fit=crop&q=80&w=800" alt="Founder" class="relative z-10 w-full rounded-sm shadow-xl grayscale hover:grayscale-0 transition duration-700"></div>
                    <div>
                        <h3 class="font-serif text-2xl text-brand-dark mb-4">Vom CIO zum Enabler</h3>
                        <p class="text-gray-600 leading-relaxed mb-4">"Als CIO habe ich hunderte Bewerbungen gesehen. Das Problem: Die meisten Dienstleister verstehen die Sprache des C-Levels nicht. Die Idee zu APEX entstand aus dem Bedürfnis, eine Brücke zu bauen."</p>
                        <div class="border-l-4 border-brand-gold pl-4 py-2 bg-gray-50"><p class="text-sm italic text-gray-800 font-serif">"Unser Ziel ist es, Ihnen nicht nur einen Job zu verschaffen, sondern eine Karriere-Strategie."</p></div>
                    </div>
                </div>
                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div class="p-6"><i class="fas fa-handshake text-brand-gold text-4xl mb-4"></i><h4 class="font-bold text-brand-dark mb-2">Integrität</h4><p class="text-sm text-gray-500">Wir versprechen keine Wunder, sondern harte Arbeit.</p></div>
                    <div class="p-6"><i class="fas fa-chess-queen text-brand-gold text-4xl mb-4"></i><h4 class="font-bold text-brand-dark mb-2">Strategie</h4><p class="text-sm text-gray-500">Ein CV ist ein Verkaufsprospekt.</p></div>
                    <div class="p-6"><i class="fas fa-network-wired text-brand-gold text-4xl mb-4"></i><h4 class="font-bold text-brand-dark mb-2">Netzwerk</h4><p class="text-sm text-gray-500">Zugang zu einem Kreis von Entscheidern.</p></div>
                </div>
            </div>
        </section>
    </div>

    <!-- === VIEW: PACKAGE DETAILS === -->
    <div id="view-package-details" class="hidden fade-in min-h-screen bg-gray-50">
        <header class="bg-brand-dark text-white py-16">
            <div class="max-w-7xl mx-auto px-4 text-center">
                <h1 class="font-serif text-3xl md:text-4xl">Leistungsübersicht</h1>
            </div>
        </header>
        <section class="max-w-7xl mx-auto px-4 py-12 -mt-10 relative z-10">
            <div class="bg-white rounded-sm shadow-xl overflow-hidden p-8">
                <table class="w-full text-left text-sm border-collapse">
                    <thead><tr class="border-b"><th class="p-4">Feature</th><th class="p-4 text-center">Starter</th><th class="p-4 text-center text-brand-gold">Pro</th><th class="p-4 text-center bg-brand-dark text-white">Exec</th></tr></thead>
                    <tbody>
                        <tr class="bg-gray-50/50"><td colspan="4" class="p-3 font-bold text-xs uppercase tracking-widest text-gray-500">Erstellung</td></tr>
                        <tr class="border-b"><td class="p-4">CV Erstellung (DE/EN)</td><td class="p-4 text-center">✓</td><td class="p-4 text-center">✓</td><td class="p-4 text-center">✓</td></tr>
                        <tr class="border-b"><td class="p-4">Anschreiben</td><td class="p-4 text-center">Template</td><td class="p-4 text-center">Individuell</td><td class="p-4 text-center">Bio / Pitch</td></tr>
                        <tr class="border-b"><td class="p-4">LinkedIn Optimierung</td><td class="p-4 text-center">-</td><td class="p-4 text-center">✓</td><td class="p-4 text-center">Full Rebrand</td></tr>
                        <tr class="bg-gray-50/50"><td colspan="4" class="p-3 font-bold text-xs uppercase tracking-widest text-gray-500">Strategie</td></tr>
                        <tr class="border-b"><td class="p-4">Strategie-Call</td><td class="p-4 text-center">-</td><td class="p-4 text-center">30 Min</td><td class="p-4 text-center">60 Min</td></tr>
                        <tr><td class="p-4">Headhunter Intro</td><td class="p-4 text-center">-</td><td class="p-4 text-center">-</td><td class="p-4 text-center">✓</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="mt-8 text-center"><button onclick="app.navigateTo('home')" class="text-brand-gold font-bold underline">Zurück</button></div>
        </section>
    </div>

    <!-- === VIEW: IMPRESSUM === -->
    <div id="view-impressum" class="hidden fade-in min-h-screen bg-white">
        <div class="max-w-4xl mx-auto px-4 py-20">
            <h1 class="font-serif text-3xl mb-8">Impressum</h1>
            <div class="text-sm text-gray-600 space-y-4">
                <p><strong>Angaben gemäß § 5 TMG</strong><br>APEX Executive GmbH<br>Musterstraße 1, 10115 Berlin</p>
                <p><strong>Kontakt</strong><br>Telefon: +49 (0) 30 12345678<br>E-Mail: kontakt@apex-executive.de</p>
                <p><strong>Registereintrag</strong><br>Registergericht: Amtsgericht Berlin-Charlottenburg, HRB 123456</p>
                <p><strong>Umsatzsteuer-ID</strong><br>DE 123 456 789</p>
                <hr class="my-6">
                <p><strong>Haftung für Inhalte</strong><br>Als Diensteanbieter sind wir gemäß § 7 Abs.1 TMG für eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich...</p>
            </div>
            <div class="mt-8"><button onclick="app.navigateTo('home')" class="text-brand-gold font-bold">Zurück zur Startseite</button></div>
        </div>
    </div>

    <!-- === VIEW: LOGIN === -->
    <div id="view-login" class="hidden min-h-[80vh] flex items-center justify-center bg-brand-light fade-in">
        <div class="bg-white p-12 rounded-sm shadow-2xl w-full max-w-md border-t-4 border-brand-gold">
            <div class="text-center mb-8"><i class="fas fa-mountain text-brand-gold text-3xl mb-4"></i><h2 class="font-serif text-2xl text-brand-dark">Mitglieder Login</h2></div>
            <form onsubmit="return false;" class="space-y-6">
                <div><label class="block text-xs uppercase tracking-widest text-gray-500 mb-2">E-Mail</label><input type="email" id="login-email" class="w-full bg-gray-50 border border-gray-300 p-4 outline-none focus:border-brand-gold text-brand-dark"></div>
                <div><label class="block text-xs uppercase tracking-widest text-gray-500 mb-2">Passwort</label><input type="password" id="login-password" class="w-full bg-gray-50 border border-gray-300 p-4 outline-none focus:border-brand-gold text-brand-dark"></div>
                <button type="button" onclick="app.handleLogin()" class="w-full gold-gradient text-brand-dark font-bold py-4 uppercase tracking-widest text-xs hover:shadow-lg transition">Anmelden</button>
            </form>
            <p id="login-message" class="text-red-500 text-xs mt-4 text-center"></p>
        </div>
    </div>

    <!-- === VIEW: DASHBOARD === -->
    <div id="view-dashboard" class="hidden fade-in flex-grow bg-gray-50">
        <div class="bg-brand-dark text-white py-12">
            <div class="max-w-7xl mx-auto px-4 flex justify-between items-end">
                <div><h1 class="font-serif text-3xl mb-2">Guten Tag, <span id="dash-username">Stefan</span></h1><p class="text-brand-gold text-sm uppercase tracking-widest">Premium Member</p></div>
                <button onclick="app.handleLogout()" class="text-xs text-gray-400 hover:text-white uppercase tracking-widest border border-white/20 px-4 py-2">Abmelden</button>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-4 py-12 grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-8">
                <div class="bg-white p-8 rounded-sm shadow-sm border border-gray-200">
                    <h3 class="font-serif text-lg text-brand-dark font-bold mb-4">Executive CV Rebrand</h3>
                    <div class="w-full bg-gray-100 h-2 mb-4 rounded-full overflow-hidden"><div class="bg-brand-gold h-full w-2/3"></div></div>
                    <div class="space-y-2 text-sm text-gray-600"><div class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-3"></i> Analyse abgeschlossen</div><div class="flex items-center font-bold text-brand-dark"><i class="fas fa-spinner fa-spin text-brand-gold mr-3"></i> Entwurf in Arbeit</div></div>
                </div>
                <div class="bg-white p-8 rounded-sm shadow-sm border border-gray-200">
                    <h3 class="font-serif text-lg text-brand-dark font-bold mb-4">Secure Data Vault</h3>
                    <div class="border-2 border-dashed border-gray-300 p-8 text-center bg-gray-50"><i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i><p class="text-sm">Dokumente hier ablegen</p></div>
                </div>
            </div>
            <div class="space-y-8">
                <div class="bg-brand-dark text-white p-8 rounded-sm shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-brand-gold/10 rounded-full blur-2xl -mr-10 -mt-10"></div>
                    <h3 class="font-serif text-lg font-bold mb-6">Nächste Session</h3>
                    <div class="flex items-center mb-4"><img src="https://randomuser.me/api/portraits/men/32.jpg" class="w-12 h-12 rounded-full border-2 border-brand-gold mr-4"><div><div class="font-bold">Dr. Markus T.</div><div class="text-xs text-gray-400">CIO Strategy Call</div></div></div>
                    <div class="space-y-2 text-sm text-gray-300 mb-6">
                        <div class="flex items-center"><i class="far fa-calendar mr-3"></i> 24. Oktober 2024</div>
                        <div class="flex items-center"><i class="far fa-clock mr-3"></i> 14:00 - 15:00 Uhr</div>
                    </div>
                    <button class="w-full bg-white/10 hover:bg-brand-gold hover:text-black transition text-white py-2 text-xs uppercase tracking-widest font-bold">Meeting Link kopieren</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contact" class="bg-white pt-20 pb-10 border-t border-gray-200 mt-auto">
        <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between text-xs text-gray-500 uppercase">
            <div class="mb-4 md:mb-0"><span>&copy; 2024 APEX Executive GmbH</span></div>
            <div class="space-x-4"><a href="#" onclick="app.navigateTo('impressum')">Impressum</a><a href="#faq" onclick="app.navigateTo('home'); app.scrollToSection('faq')">FAQ</a><a href="#">AGB</a></div>
        </div>
    </footer>

    <!-- Modals -->
    <div id="cart-overlay" class="fixed inset-0 z-[60] hidden"><div class="absolute inset-0 bg-black/50" onclick="app.toggleCart()"></div><div id="cart-sidebar" class="absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl transform translate-x-full transition-transform duration-300 flex flex-col"><div class="p-6 border-b flex justify-between"><h3 class="font-serif text-xl">Portfolio</h3><button onclick="app.toggleCart()">X</button></div><div id="cart-items" class="flex-grow p-6"></div><div class="p-6 border-t"><span id="cart-total" class="font-serif text-2xl block mb-4">€0</span><button onclick="app.checkout()" class="w-full bg-brand-dark text-white py-4 font-bold">Zur Kasse</button></div></div></div>
    <div id="modal-checkout" class="fixed inset-0 z-[80] hidden flex items-center justify-center"><div class="bg-white p-8 rounded shadow-2xl max-w-md text-center"><h3 class="font-serif text-2xl mb-4">Vielen Dank!</h3><button onclick="document.getElementById('modal-checkout').classList.add('hidden')" class="bg-brand-dark text-white px-6 py-2">Schließen</button></div></div>
    <div id="toast" class="fixed bottom-5 right-5 bg-brand-dark text-white px-6 py-4 rounded shadow-lg transform translate-y-20 transition-transform duration-300 z-[70]">Hinzugefügt</div>

    <!-- LOGIC -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBZ970mA7-2pJzhbxyFjjmzO97YKZhrSmU",
            authDomain: "apex-executive.firebaseapp.com",
            projectId: "apex-executive",
            storageBucket: "apex-executive.firebasestorage.app",
            messagingSenderId: "525553082138",
            appId: "1:525553082138:web:84d1437b2e150f5fb316a3",
            measurementId: "G-8K4T9MXEZ8"
        };

        let auth, db;
        try {
            const app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);
            console.log("Firebase Active");
        } catch(e) { console.warn("Firebase Init Error", e); }

        window.app = {
            cart: [],
            coaches: [
                { id: "101", name: "Dr. Markus T.", role: "CIO @ DAX30", industry: "tech", price: 350, image: "https://randomuser.me/api/portraits/men/32.jpg", bio: "15 Jahre Erfahrung als CIO in der Automobilindustrie. Spezialisiert auf Digitale Transformation.", expertise: ["Digital Transformation", "Leadership", "Board Politics"], stats: "20+ Jahre Erfahrung" },
                { id: "102", name: "Sarah L.", role: "VP Sales", industry: "tech", price: 350, image: "https://randomuser.me/api/portraits/women/44.jpg", bio: "Skalierung von Vertriebsteams im SaaS-Umfeld von Series A bis IPO.", expertise: ["Sales Strategy", "Team Scaling", "Negotiation"], stats: "100M+ Revenue" },
                { id: "103", name: "Johannes B.", role: "CFO", industry: "finance", price: 400, image: "https://randomuser.me/api/portraits/men/85.jpg", bio: "Fokus auf M&A und Restrukturierung im gehobenen Mittelstand.", expertise: ["M&A", "Finance", "Restructuring"], stats: "15 Transaktionen" },
                { id: "104", name: "Elena R.", role: "COO", industry: "automotive", price: 380, image: "https://randomuser.me/api/portraits/women/68.jpg", bio: "Operative Exzellenz und Supply Chain Optimierung.", expertise: ["Operations", "Supply Chain", "Lean Mgmt"], stats: "Global Teams" },
                { id: "105", name: "Christian K.", role: "Ex-CTO", industry: "tech", price: 350, image: "https://randomuser.me/api/portraits/men/22.jpg", bio: "Tech-Strategie und Produktentwicklung für High-Growth Startups.", expertise: ["Tech Strategy", "Product", "Agile"], stats: "2 Exits" },
                { id: "106", name: "Petra M.", role: "CHRO", industry: "finance", price: 350, image: "https://randomuser.me/api/portraits/women/33.jpg", bio: "Strategisches HR-Management und Talententwicklung.", expertise: ["HR Strategy", "Talent Mgmt", "Culture"], stats: "30 Jahre Exp" },
                { id: "107", name: "Thomas W.", role: "CEO @ Mittelstand", industry: "automotive", price: 450, image: "https://randomuser.me/api/portraits/men/45.jpg", bio: "Führung von Familienunternehmen.", expertise: ["Succession", "Family Business"], stats: "500 MA" },
                { id: "108", name: "Julia K.", role: "CMO", industry: "tech", price: 350, image: "https://randomuser.me/api/portraits/women/65.jpg", bio: "Markenaufbau im B2B-Umfeld.", expertise: ["Brand", "Growth"], stats: "Global Brand" },
                { id: "109", name: "Michael R.", role: "General Counsel", industry: "finance", price: 400, image: "https://randomuser.me/api/portraits/men/11.jpg", bio: "Rechtliche Strategie und Compliance.", expertise: ["Legal", "Compliance"], stats: "DAX Konzern" }
            ],

            articles: [
                {
                    id: 1,
                    cat: "Leadership",
                    title: "Boardroom Dynamics: Die ungeschriebenen Gesetze",
                    preview: "Warum Fachwissen im Vorstand nur die Eintrittskarte ist.",
                    image: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&q=80&w=800",
                    content: `<h3 class="text-2xl font-serif mb-4">Die unsichtbare Agenda</h3><p class="mb-4 text-gray-600">Im Vorstandssaal gelten eigene Regeln. Fachkompetenz wird vorausgesetzt, aber Entscheidungen fallen oft durch Koalitionen.</p><p class="mb-4 text-gray-600">Wer neu ins C-Level aufsteigt, macht oft den Fehler, sich auf Argumente zu verlassen. Erfahrene Führungskräfte wissen: Politik ist ein Werkzeug.</p>`
                },
                {
                    id: 2,
                    cat: "Career",
                    title: "Der Lebenslauf ab 200k Jahresgehalt",
                    preview: "Auf C-Level zählen nur noch P&L Verantwortung und Transformation.",
                    image: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&q=80&w=800",
                    content: `<h3 class="text-2xl font-serif mb-4">Strategie statt Historie</h3><p class="mb-4 text-gray-600">Ein Standard-Lebenslauf listet Aufgaben auf. Ein Executive-CV erzählt eine Geschichte von Transformation und Wertschöpfung.</p>`
                },
                {
                    id: 3,
                    cat: "Trends",
                    title: "AI im Management: Gefahr oder Chance?",
                    preview: "Wie KI die Rolle des CIOs verändert.",
                    image: "https://images.unsplash.com/photo-1551836022-d5d88e9218df?auto=format&fit=crop&q=80&w=800",
                    content: `<h3 class="text-2xl font-serif mb-4">Der Co-Pilot im Cockpit</h3><p class="mb-4 text-gray-600">Künstliche Intelligenz ersetzt keine Führungskräfte. Aber Führungskräfte, die KI nutzen, werden diejenigen ersetzen, die es nicht tun.</p>`
                }
            ],

            navigateTo: (viewId) => {
                ['view-home', 'view-login', 'view-dashboard', 'view-about', 'view-impressum', 'view-journal', 'view-package-details', 'view-article-detail', 'view-coach-detail'].forEach(id => {
                    document.getElementById(id)?.classList.add('hidden');
                });
                document.getElementById('view-' + viewId).classList.remove('hidden');
                
                const navLinks = document.getElementById('nav-links');
                if(['home', 'about', 'journal', 'impressum', 'package-details', 'article-detail', 'coach-detail'].includes(viewId)) {
                    navLinks.classList.remove('hidden');
                    navLinks.classList.add('md:flex');
                } else {
                    navLinks.classList.add('hidden');
                    navLinks.classList.remove('md:flex');
                }
                window.scrollTo(0, 0);
            },

            scrollToSection: (id) => {
                if(document.getElementById('view-home').classList.contains('hidden')) {
                    app.navigateTo('home');
                    setTimeout(() => document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' }), 100);
                } else {
                    document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' });
                }
            },

            toggleMobileMenu: () => {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('hidden');
                menu.classList.toggle('flex');
            },

            toggleCart: () => {
                const sidebar = document.getElementById('cart-sidebar');
                const overlay = document.getElementById('cart-overlay');
                if (overlay.classList.contains('hidden')) {
                    overlay.classList.remove('hidden');
                    setTimeout(() => sidebar.classList.remove('translate-x-full'), 10);
                } else {
                    sidebar.classList.add('translate-x-full');
                    setTimeout(() => overlay.classList.add('hidden'), 300);
                }
            },

            addToCart: (title, price) => {
                app.cart.push({ title, price, id: Date.now() });
                app.updateCartUI();
                const t = document.getElementById('toast');
                t.classList.remove('translate-y-20');
                setTimeout(() => t.classList.add('translate-y-20'), 2000);
            },

            removeFromCart: (id) => {
                app.cart = app.cart.filter(x => x.id !== id);
                app.updateCartUI();
            },

            updateCartUI: () => {
                document.getElementById('cart-count').innerText = app.cart.length;
                document.getElementById('cart-count').classList.toggle('hidden', app.cart.length === 0);
                const list = document.getElementById('cart-items');
                const total = app.cart.reduce((sum, i) => sum + i.price, 0);
                list.innerHTML = app.cart.length ? app.cart.map(i => `<div class="flex justify-between p-4 border-b"><span>${i.title}</span><button onclick="app.removeFromCart(${i.id})" class="text-red-500 font-bold">X</button></div>`).join('') : '<p class="text-center mt-10 text-gray-400">Leer</p>';
                document.getElementById('cart-total').innerText = '€' + total;
            },

            checkout: () => {
                if(app.cart.length === 0) return;
                app.toggleCart();
                document.getElementById('modal-checkout').classList.remove('hidden');
                app.cart = [];
                app.updateCartUI();
            },

            toggleFaq: (id) => {
                const el = document.getElementById(id).parentElement;
                el.classList.toggle('faq-open');
            },

            handleLogin: async () => {
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                const msg = document.getElementById('login-message');
                msg.innerText = "";

                if (auth) {
                    try {
                        await signInWithEmailAndPassword(auth, email, password);
                    } catch (error) {
                        msg.innerText = "Fehler: " + error.code;
                    }
                } else {
                    app.navigateTo('dashboard');
                }
            },

            handleLogout: async () => {
                if(auth) await signOut(auth);
                document.getElementById('nav-login-btn').classList.remove('hidden');
                document.getElementById('nav-user-profile').classList.add('hidden');
                app.navigateTo('home');
            },

            filterCoaches: () => {
                const filter = document.getElementById('industry-filter')?.value || 'all';
                const grid = document.getElementById('coach-grid');
                if(!grid) return;
                const list = filter === 'all' ? app.coaches : app.coaches.filter(c => c.industry === filter);
                grid.innerHTML = list.map(c => `
                    <div class="group bg-white rounded-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:border-brand-gold/30 transition-all duration-300 cursor-pointer">
                        <div class="relative h-24 bg-brand-dark overflow-hidden">
                            <div class="absolute inset-0 bg-brand-gold/10"></div>
                        </div>
                        <div class="px-6 pb-6 relative">
                            <div class="-mt-12 mb-4">
                                <img src="${c.image}" alt="${c.name}" class="w-20 h-20 rounded-sm object-cover border-4 border-white shadow-md object-cover">
                            </div>
                            <div onclick="app.openCoachDetail('${c.id}')">
                                <h4 class="font-serif text-lg text-brand-dark font-bold hover:text-brand-gold transition">${c.name}</h4>
                                <p class="text-xs text-brand-gold font-bold uppercase tracking-widest mt-1">${c.role}</p>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-50 flex justify-between items-center">
                                <div class="text-xs text-gray-400 font-bold uppercase tracking-wide">€${c.price || 350} / Std</div>
                                <div class="flex gap-2">
                                    <button onclick="app.openCoachDetail('${c.id}')" class="text-gray-400 hover:text-brand-dark transition"><i class="far fa-eye text-lg"></i></button>
                                    <button onclick="app.addToCart('Session: ${c.name}', ${c.price || 350})" class="text-brand-dark hover:text-brand-gold transition"><i class="fas fa-plus-circle text-lg"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>`).join('');
            },

            openCoachDetail: (id) => {
                const coach = app.coaches.find(c => c.id == id);
                if(!coach) return;
                
                // Safe handling for expertise
                let expertiseList = coach.expertise;
                if (!Array.isArray(expertiseList)) {
                    if (typeof expertiseList === 'string') {
                        expertiseList = expertiseList.split(',').map(s => s.trim());
                    } else {
                        expertiseList = ["Strategy", "Leadership"];
                    }
                }

                const container = document.getElementById('coach-detail-content');
                container.innerHTML = `
                    <div class="flex flex-col md:flex-row gap-12 items-start">
                        <div class="w-full md:w-1/3">
                            <img src="${coach.image}" class="w-full rounded-sm shadow-xl border-4 border-white object-cover">
                            <div class="mt-6 p-6 bg-gray-50 border border-gray-100 rounded-sm text-center">
                                <span class="block text-2xl font-serif text-brand-dark mb-2">€${coach.price || 350}</span>
                                <span class="text-xs text-gray-500 uppercase tracking-widest block mb-6">pro Stunde</span>
                                <button onclick="app.addToCart('Session: ${coach.name}', ${coach.price || 350})" class="w-full bg-brand-gold text-brand-dark font-bold py-3 uppercase tracking-widest text-xs hover:shadow-lg transition">Jetzt Buchen</button>
                            </div>
                        </div>
                        <div class="w-full md:w-2/3">
                            <h1 class="font-serif text-4xl text-brand-dark mb-2">${coach.name}</h1>
                            <p class="text-brand-gold font-bold uppercase tracking-widest text-sm mb-8">${coach.role}</p>
                            <div class="prose max-w-none text-gray-600 leading-relaxed mb-8"><p class="mb-4">${coach.bio || "Erfahrener Executive Mentor mit nachweisbarem Track Record in der Transformation von Organisationen und der Entwicklung von High-Performance Teams."}</p></div>
                            <div class="grid grid-cols-2 gap-6 mb-8">
                                <div><h4 class="font-bold text-brand-dark text-xs uppercase tracking-widest mb-3">Expertise</h4><div class="flex flex-wrap gap-2">${expertiseList.map(e => `<span class="bg-brand-dark text-white px-3 py-1 text-[10px] uppercase tracking-wide rounded-sm">${e}</span>`).join('')}</div></div>
                                <div><h4 class="font-bold text-brand-dark text-xs uppercase tracking-widest mb-3">Erfahrung</h4><p class="text-sm text-gray-600">${coach.stats || "15+ Jahre C-Level Erfahrung"}</p></div>
                            </div>
                        </div>
                    </div>`;
                app.navigateTo('coach-detail');
            },

            renderArticles: () => {
                const grid = document.getElementById('journal-grid');
                if(!grid) return;
                grid.innerHTML = app.articles.map(a => `
                    <div class="bg-white rounded-sm shadow-sm overflow-hidden border border-gray-100 hover:shadow-xl transition group cursor-pointer" onclick="app.openArticle('${a.id}')">
                        <div class="h-48 bg-gray-200 relative overflow-hidden"><img src="${a.image}" class="w-full h-full object-cover transform group-hover:scale-105 transition duration-700"><div class="absolute top-4 left-4 bg-brand-gold text-brand-dark text-[10px] font-bold px-2 py-1 uppercase">${a.cat}</div></div>
                        <div class="p-6"><h3 class="font-serif text-lg font-bold text-brand-dark mb-2 group-hover:text-brand-gold transition">${a.title}</h3><p class="text-sm text-gray-500 mb-4 line-clamp-3">${a.preview}</p><span class="text-xs text-brand-gold font-bold uppercase tracking-widest">Artikel lesen &rarr;</span></div>
                    </div>
                `).join('');
            },

            openArticle: (id) => {
                const article = app.articles.find(a => a.id == id);
                if(!article) return;
                const container = document.getElementById('article-content-area');
                container.innerHTML = `
                    <div class="mb-6"><span class="text-brand-gold font-bold uppercase text-xs tracking-widest">${article.cat}</span><h1 class="font-serif text-3xl md:text-4xl text-brand-dark mt-2">${article.title}</h1></div>
                    <img src="${article.image}" class="w-full h-64 object-cover mb-8 rounded-sm shadow-sm">
                    <div class="prose max-w-none text-gray-700 leading-relaxed">${article.content}</div>
                `;
                app.navigateTo('article-detail');
            }
        };

        if(auth) {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    document.getElementById('nav-login-btn').classList.add('hidden');
                    document.getElementById('nav-user-profile').classList.remove('hidden');
                    document.getElementById('dash-username').innerText = user.email.split('@')[0];
                    if(document.getElementById('user-name-display')) document.getElementById('user-name-display').innerText = user.email.split('@')[0];
                    if(!document.getElementById('view-login').classList.contains('hidden')) app.navigateTo('dashboard');
                } else {
                    document.getElementById('nav-login-btn').classList.remove('hidden');
                    document.getElementById('nav-user-profile').classList.add('hidden');
                }
            });
        }
        
        async function loadDB() {
            if(!db) return;
            try {
                const snap = await getDocs(collection(db, "coaches"));
                const data = [];
                snap.forEach(d => data.push({id: d.id, ...d.data()}));
                if(data.length > 0) {
                    app.coaches = data;
                    app.filterCoaches();
                }
            } catch(e) { console.log("DB Offline/Empty"); }

            try {
                const aSnap = await getDocs(collection(db, "articles"));
                const aData = [];
                aSnap.forEach(d => aData.push({id: d.id, ...d.data()}));
                if(aData.length > 0) {
                    app.articles = aData;
                    app.renderArticles();
                }
            } catch(e) {}
        }

        document.addEventListener('DOMContentLoaded', () => {
            app.filterCoaches();
            app.renderArticles();
            loadDB();
        });
    </script>
</body>
</html>